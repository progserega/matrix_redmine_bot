# matrix_redmine_bot
Create redmine issue from matrix, add comments, show notice from redmine in matrix

Бот создан для взаимодействия с системой redmine из matrix.

Возможности бота:

1. Получение уведомлений от redmine, адресованных Вам (посредством анализа почты).
2. Возможность добавлять ошибки с кратким описанием их в выбранный проект
3. возможность добавления коментариев к ошибкам (по номеру) в том числе цитат других пользователей (как текст, так и файлы)
4. возможность задания проекта redmine по-умолчанию для создаваемых в комнате ошибок
5. возможность задать несколько проектов redmine-а для комнаты - тогда бот будет спрашивать в каком проекте создать ошибку
6. возможность назначить на себя ошибку или назначить на себя и выставить статус "в работе"
7. возможность ограничить домен/пользователей, которые могут взаимодействовать с ботом
8. возможность автоматически находить соответствия логинов в redmine пользователям в matrix (по имени пользователя без доменной части)
9. возможность задать список соответствий пользователей в matrix пользователям в redmine - для ситуации, когда matrix-имя не соответствует логину в Redmine

Установка.

1. Создайте учётку бота на сервере matrix, например: @redmine:matrix.org
2. скопируйте config.py.example в config.py 
3. поправьте настройки в config.py
4. запустите matrix_redmine_bot.py (можно воспользоваться файлом описания сервиса для запуска через systemd: matrix_redmine_bot.service)
5. пригласите в своей основной учётке пользователя бота в нужную вам комнату. Учтите, что для настройки бота в комнате вы должны иметь права в комнате больше или равные модераторским (50)
6. обратитесь к боту по имени: "redmine: help"
7. по необходимости - настройте уведомления и проект по-умолчанию для комнаты

Настройка уведомлений:
1. в настройках бота нужно задать почтовый адрес, с которого шлёт уведомления redmine
2. в настройках комнаты можно задать параметры доступа к вашему почтовому ящику. Бот будет просматривать там письма на предмет писем от redmine, читать их и посылать о них краткие уведомления в комнату matrix.
3. для удобства можно создать отдельный почтовый ящик для получения писем от redmine, сделав редирект с него писем на этот же ящик и на вашу основную почту. В результате письма от redmine будут как в специальном ящике для redmine, так и в вашей основной почте, а бот будет просматривать их только в специальном ящике для redmine, не читая вашу основную почту.
